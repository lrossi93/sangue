<div
style="height: 100%;"
>
    <h1>{{ 'Orders' | translate }}</h1>

	<div 
	*ngIf="loading"
	layout="row" 
	layout-align="center" 
	align="center" 
	style="min-height: 50px; margin: 10%;">
		<p
		align="center">
			<mat-spinner></mat-spinner>
		</p>
		<h2
		align="center">
			{{ 'Loading' | translate }}...
		</h2>
	</div>
		
	<div
	*ngIf="!loading">		
		<div align="center">
			<button 
			*ngIf="!isDateLocked"
			mat-raised-button 
			color="primary" 
			style="width: 90%; margin: 5px;" 
			(click)="openAddOrderDialog(false)">
				{{ 'Add order' | translate }}
			</button>

			<button 
			*ngIf="isDateLocked"
			mat-raised-button 
			color="primary" 
			style="width: 90%; margin: 5px;" 
			(click)="openAddOrderDialog(true)">
				{{ 'Add extra order' | translate }}
			</button>
			
			<p 
			*ngIf="isDateLocked && loginService.getUserCode() == '210'" 
			style="color: red;">
				{{ 'Orders placed now are automatically marked as \"extra\"' | translate }}.
			</p>

			<div align="center" style=" padding: 10px; margin: 5px;">
				<p>{{ 'Reference year' | translate }}:</p>
				<input 
				matInput 
				type="number"
				placeholder="{{ 'Reference year' | translate }}" 
				[(ngModel)]="year" 
				style="width: 50%;" 
				(change)="listOrders(year)">
			</div>
			<button 
			mat-raised-button 
			(click)="listOrders(year)" 
			style="width: 90%; margin: 5px;">
				{{ 'List orders' | translate }}
			</button>
		</div>
	
		<ag-grid-angular 
			style="width: 100%;"
			class="ag-theme-material"
			[rowData]="orderGridRowData"
			[columnDefs]="ordersGridConfig"
			[defaultColDef]="defaultColDef"
			[alwaysShowHorizontalScroll]="true"
			[gridOptions]="gridOptions"
			(gridReady)="onGridReady($event)"
			[getRowId]="getRowId"
			[animateRows]="true">
			<!--to see flashing cells, add [enableCellChangeFlash]="true"-->
		</ag-grid-angular>
	</div>
</div>